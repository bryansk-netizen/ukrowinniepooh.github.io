<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Мой сайт — видео</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Убрали header с текстом -->

  <!-- Видео во весь экран -->
  <section class="video-wrapper">
    <video
      id="mainVideo"
      class="fullscreen-video"
      autoplay
      muted
      loop
      playsinline
      controls
      poster="assets/poster.jpg"
    >
      <source src="pakhom-sergey-pakhomov.mp4" type="video/mp4">
      Ваш браузер не поддерживает тег video. Скачайте видео:
      <a href="pakhom-sergey-pakhomov.mp4">Скачать видео</a>
    </video>

    <!-- Необязательная кнопка — перейти в режим "истинного" полноэкранного браузера -->
    <button id="enterFs" class="fs-button" aria-hidden="true">Полноэкранный режим</button>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const v = document.getElementById('mainVideo');
      if (v) {
        v.muted = true;
        const playPromise = v.play();
        if (playPromise !== undefined) {
          playPromise.catch(function (error) {
            console.log('Автозапуск видео не сработал:', error);
          });
        }
      }

      // Кнопка для перевода в настоящий fullscreen (API Fullscreen)
      const btn = document.getElementById('enterFs');
      if (btn) {
        btn.addEventListener('click', async function () {
          try {
            if (document.fullscreenElement) {
              await document.exitFullscreen();
              btn.textContent = 'Полноэкранный режим';
            } else {
              await document.documentElement.requestFullscreen();
              btn.textContent = 'Выйти из полноэкранного режима';
            }
          } catch (e) {
            console.warn('Не удалось переключить полноэкранный режим:', e);
          }
        });
      }
    });
  </script>
</body>
</html>
